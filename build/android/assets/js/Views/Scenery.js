Scenery=function(e){var n,t,i,o,r,a=e,s=Titanium.Platform.DisplayCaps.platformWidth,c=Titanium.Platform.DisplayCaps.platformHeight,u=3,l={color:"#222",transparency:1},d={color:"#eee",transparency:.5},f=function(e,n){var t=Ti.UI.createView({height:i,width:i,top:u+2*e*u+e*i,left:u+2*n*u+n*i,borderRadius:3,backgroundColor:d.color,textAlign:"center",font:{fontWeight:"bold",fontSize:55},zIndex:10,opacity:d.transparency});return t},w=function(){for(var e=1;a>e;e++){var o=Ti.UI.createView({height:u,width:t,top:e*u*2+e*i-u,left:0,backgroundColor:l.color,zIndex:20}),r=Ti.UI.createView({height:t,width:2*u,left:e*u*2+e*i-u,top:0,backgroundColor:l.color,zIndex:20});n.add(o),n.add(r)}},p=function(){s>c?(t=c,r=s/2-t/2):(t=s,r=0),i=t/a-2*u,n=Ti.UI.createView({height:t,width:t,top:0,left:r,backgroundColor:l.color,zIndex:5}),o=Ti.UI.createView({height:t,width:t,top:0,left:0,opacity:1,zIndex:15})},v=function(e){o.add(e)},g=function(e){var n=e.getHeight(),t=e.getTop(),i=e.getLeft(),r=Ti.UI.createAnimation({width:0,height:0,top:t+n/2,left:i+n/2,duration:500});e.animate(r,function(){o.remove(e)})},h=function(){w();for(var e=0;a>e;e++)for(var t=0;a>t;t++){var i=f(e,t);n.add(i)}return n.add(o),n},m=function(e){n.add(e)};return{objType:"Scenery",addEvent:function(e,t){n.addEventListener(e,t)},getGrid:function(){return p(),h()},getSize:function(){return a},getBorderMargin:function(){return u},getTileSize:function(){return i},getScenerySize:function(){return t},addPiece:function(e){v(e.view)},removePiece:function(e){g(e.view)},showMessage:function(e){m(e.get())}}},module.exports=Scenery;